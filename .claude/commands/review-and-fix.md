# .claude/commands/review-and-fix.md

以下の手順で成果物をレビューし、90点以上になるまで修正を繰り返してください。

## 対象
$ARGUMENTS

## レビュー・修正ループ

以下を90点以上になるまで繰り返す:

### Step 1: Codex MCPでレビュー依頼

Codexに以下の形式でレビューを依頼:

---
対象ファイル/変更内容を確認し、以下の形式で評価してください。

**総合評価: XX点/100点**

評価観点:
- コード品質
- セキュリティ
- パフォーマンス
- 可読性・保守性

**問題点と対応策:**

| # | 問題点 | 深刻度 | 対応策 | 該当箇所 |
|---|--------|--------|--------|----------|
| 1 | (具体的な問題) | 高/中/低 | (具体的な修正方法) | (ファイル:行番号) |
| 2 | ... | ... | ... | ... |

**良い点:**
- (維持すべき点があれば記載)
---

### Step 2: 点数確認

- 90点以上の場合: 完了。最終レビュー結果を表示して終了
- 90点未満の場合: Step 3へ

### Step 3: 修正実施

Codexが指摘した「問題点と対応策」の表に従い、深刻度「高」から順に修正を実施。

修正完了後、Step 1に戻る。

## 終了条件

- 90点以上を達成
- または、ループ5回で改善が見られない場合は中断し、状況を報告

## 出力

最終的に以下を報告:
1. 最終スコア
2. 実施した修正の要約(何回のループで完了したか)
3. 残課題があれば記載
